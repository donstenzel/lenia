# Experimental!

Viridis â† Ã·â‚‚â‚…â‚…[[68 1 84]
               [33 145 140]
               [253 231 37]]

Magma â† Ã·â‚‚â‚…â‚…[[0 0 4]
             [183 55 121]
             [252 253 191]]

Plasma â† Ã·â‚‚â‚…â‚…[[12 8 135]
              [204 71 120]
              [240 249 33]]

# Colors a grayscale image using a segmented
# colormap, which should be an array of colors.
# Check out `Viridis` for an example.
# colored ? colormap grayscale
C â† âœ-Ã— âŠƒ(âœâŠŸâŠâŠƒâŒŠâŒˆ)â—¿â‚ Ã—-â‚â¤šâŠ“â§»âˆ˜

Grid  â† âŒµË™âŠâ„‚-âŠƒÃ·â‚‚â‡¡
Shift â† â†»âŒˆÃ·â‚‚âŠ¸â–³
Conv  â† Ã—âˆš/Ã—âŠ¸â–³ â—ŒÂ°â„‚ âœâˆ©fftÃ—

# bell ? x Î¼ Ïƒ
Bell â† â¿âŠ™eÂ¯Ã·âŸœâ¿2ËœÃ·Ëœ-

# image radius ? factor image radius
Scale â† âŠ“âŒ(â–½âŸœâ‰¡â–½|Ã—)

# The single channel version is only black & white
# so you can use C to color it with any segmented
# colormap like Viridis. States, space and time
# are continuous.
â”Œâ”€â•´Single
  # kernel ? R Ws Î²
  Kernel â† memo(
    Ã—â—¡â‹…â§» Ã·âŠ™Grid
    Ã—âŠƒ(â¬š0âŠâŒŠ|Bell âŠ™0.5 âŠ™0.15 â—¿â‚)
    Shift Ã·/+âŠ¸â™­
  )

  # The parameters are as follows:
  #  - W â† the world state (must be a square grid)
  #  - T â† time scale
  #  - R â† kernel radius
  #  - Î² â† kernel peaks
  #  - Î¼, Ïƒ â† growth center & -width
  # W ? W R Î² Î¼ Ïƒ T
  U â† â†¥â‚€â†§â‚ +âŸœ(
    âŠƒâ¤™âŠ“â§»â—Œğ„ËœâŠ™Â¤
    â‰¡(Convâ—‡Kernel)
    Ã·âŠƒ(Ã—â§»|/+) -â‚Ã—â‚‚Bell
  )

  # The parameters are as follows:
  #  - W â† the world state (must be a square grid)
  #  - T â† time scale
  #  - R â† kernel radius
  #  - Î² â† kernel peaks
  #  - Î¼, Ïƒ â† growth center & -width
  # anim ? frames W R Î² Î¼ Ïƒ T
  Sim â† â¥â¤šâŠ¸â‚…U
â””â”€â•´

# In the multi channel version, the output is
# inherently colored.
â”Œâ”€â•´Multi
  # Ws R Ï Î²
  Kernel â† memo(
    Ã—â—¡â‹…â§» Ã·âŠƒâ‹…Ã—Grid
    Ã—âŠƒ(â¬š0âŠâŒŠ|Bell âŠ™0.5 âŠ™0.15 â—¿â‚)
    Shift Ã·/+âŠ¸â™­
  )

  # The parameters are as follows:
  #  - Cs â† channels = current state
  #  - Câ‚€ â† input channel indeces
  #  - T â† time scale
  #  - R â† kernel radius
  #  - Ï â† relative kernel radius
  #  - Î² â† kernel peaks
  #  - Î¼, Ïƒ, H â† growth centers, -widths & -heights
  #  - Câ‚ â† output channel indeces
  # Cs ? Cs Câ‚€ R Ï Î² Î¼ Ïƒ H Câ‚ T
  U â† â†¥â‚€â†§â‚ +âŸœ(
    â§»â¤šâŠ“âŠ¢âŠ™âŠ™âˆ˜ËœâŠ
    â‰¡(Convâ—‡Kernel)
    ËœÃ·ËœâŠ•/+Ã—-â‚Ã—â‚‚Bell
  )

  # The parameters are as follows:
  #  - Cs â† channels = current state
  #  - Câ‚€ â† input channel indeces
  #  - T â† time scale
  #  - R â† kernel radius
  #  - Ï â† relative kernel radius
  #  - Î² â† kernel peaks
  #  - Î¼, Ïƒ, H â† growth centers, -widths & -heights
  #  - Câ‚ â† output channel indeces
  # anim ? frames Cs Câ‚€ R Ï Î² Î¼ Ïƒ H Câ‚ T
  Sim â† â¥âŠƒâŠ¸â‚‰Uâ‰
â””â”€â•´
