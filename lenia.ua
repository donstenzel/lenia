# Experimental!

# padded ? pad-size array
Pad â† âŒâ†˜Â¯âŸœâŒâ†˜

# bell ? Î¼ Ïƒ x
B â† â¿âŠ™eÂ¯Ã·âŸœâ¿2Ã·ğ„âŒ-

# pads both ends with n elements of the other end
# padded ? n list
WF â† âŠ‚âŠ‚âŠƒ(â†™Â¯)âŠƒâ‹…âˆ˜â†™

# world ? kernel world
~Conv {K} â§ˆ(/+â™­Ã—K) â–³K

# Ïƒ ? x
SoftMax â† Ã·â¤š+1â¿âŠ™eÃ—â‚‹â‚†

# continuous life like cellular automaton
â”Œâ”€â•´Lenia
  # kernel ? R Î²
  Kernel â† memo(
    Ã—â—¡â‹…â§»Ã·âŸœ(âŒµâ‰¡â‚‚/â„‚-|âŠâŠŸ.â‡¡+â‚Ã—â‚‚)
    Ã—Ã—âŠƒ(>âŠ™â§»|âŠâ†§âŠ¸âŠ“âŒŠ(-â‚â§»)|B 0.5 0.15 â—¿â‚)
    Ã·/+âŠ¸â™­
  )
  
  # world ? T R Î¼ Ïƒ Î² world
  ~U {T R Î¼ Ïƒ Î²} â†¥â‚€â†§â‚ +âŠ¸(
      WF R â‰¡WF R
      waitâ‰¡poolâ—‡(Conv Kernel) R Î² Â¤
      Ã·T Ã·â§»âŸœ/+ â‰¡(-â‚ Ã—â‚‚ B) Î¼ Ïƒ
    )
  
  ~Sim {f T R Î¼ Ïƒ Î²} â‡Œ[â¥âŠ¸(U T R Î¼ Ïƒ Î²)-â‚f]
â””â”€â•´

â”Œâ”€â•´Asymptotic
  Kernel â† Lenia~Kernel
  # world ? T R Î¼ Ïƒ Î² world
  ~U {T R Î¼ Ïƒ Î²} â†¥â‚€â†§â‚ +âŸœ(
      Ã·T Ã·â§»âŸœ/+ -âŒ
    | WF R â‰¡WF R
      waitâ‰¡poolâ—‡(Conv Kernel) R Î² Â¤
      â‰¡B Î¼ Ïƒ
    )
  
  ~Sim {f T R Î¼ Ïƒ Î²} â‡Œ[â¥âŠ¸(U T R Î¼ Ïƒ Î²)-â‚f]
â””â”€â•´

â”Œâ”€â•´MultiChannel
  # kernel ? R Ï Î²
  Kernel â† memo(
    Ã—â—¡â‹…â§»Ã·:Ã·âŸœ(âŒµâ‰¡â‚‚/â„‚-|âŠâŠŸ.â‡¡+â‚Ã—â‚‚)
    Ã—Ã—âŠƒ(>âŠ™â§»|âŠâ†§âŠ¸âŠ“âŒŠ(-â‚â§»)|B 0.5 0.15 â—¿â‚)
    Ã·/+âŠ¸â™­
  )
  
  # world ? T R Î¼ Ïƒ Î² world
  ~U {T R Î¼ Ïƒ Î² Ï H Câ‚€ Câ‚} â†¥â‚€â†§â‚ +âŸœ(
      âŠCâ‚€ â‰¡(WF R â‰¡WF R)
      waitâ‰¡poolâ—‡(Conv Kernel) R Ï Î²
      â‰¡(-â‚ Ã—â‚‚ B) Î¼ Ïƒ
      Ã·T âŠ•/+Câ‚ Ã—H
    )
  
  ~Sim {f T R Î¼ Ïƒ Î² Ï H Câ‚€ Câ‚} â‡Œ[â¥âŠ¸(U T R Î¼ Ïƒ Î² Ï H Câ‚€ Câ‚)-â‚f]
  
  Vis â† â‰¡(â–½âŸœâ‰¡â–½ 4 â‰)
â””â”€â•´

â”Œâ”€â•´AsymptoticMulti
  Kernel â† MultiChannel~Kernel
  # world ? T R Î¼ Ïƒ Î² world
  ~U {T R Î¼ Ïƒ Î² Ï H Câ‚€ Câ‚} â†¥â‚€â†§â‚ +âŸœ(
      â¨¬(-â‚â‹…Ã—â‚‚|-â‚â‹…Ã—â‚‚|-)âŸœâŠCâ‚
      Ã·T âŠ•/+Câ‚ Ã—H
    | âŠCâ‚€ â‰¡(WF R â‰¡WF R)
      waitâ‰¡poolâ—‡(Conv Kernel) R Ï Î²
      â‰¡B Î¼ Ïƒ)
  
  ~Sim {f T R Î¼ Ïƒ Î² Ï H Câ‚€ Câ‚} â‡Œ[â¥âŠ¸(U T R Î¼ Ïƒ Î² Ï H Câ‚€ Câ‚)-â‚f]
â””â”€â•´

â”Œâ”€â•´Viridis
  B   â† Ã·â‚‚â‚…â‚…[68 1 84]
  G   â† Ã·â‚‚â‚…â‚…[33 145 140]
  Y   â† Ã·â‚‚â‚…â‚…[253 231 37]
  New â† B G Y
â””â”€â•´

â”Œâ”€â•´Magma
  B   â† Ã·â‚‚â‚…â‚…[0 0 4]
  M   â† Ã·â‚‚â‚…â‚…[183 55 121]
  C   â† Ã·â‚‚â‚…â‚…[252 253 191]
  New â† B M C
â””â”€â•´

â”Œâ”€â•´Plasma
  B   â† Ã·â‚‚â‚…â‚…[12 8 135]
  M   â† Ã·â‚‚â‚…â‚…[204 71 120]
  Y   â† Ã·â‚‚â‚…â‚…[240 249 33]
  New â† B M Y
â””â”€â•´

# linear interpolation
# ? a b x
L â† +âŠ™Ã—âŸœ-

# color ? empty low high progress
~C {Empty Low High} â¨¬(
    L Empty Low Ã—â‚‚
  | L Low High -â‚ Ã—â‚‚
  )âŠ¸â‰¥0.5

# applies colormap and upscales each frame
# colored ? empty low high grayscale
D â† waitâ‰¡pool(â–½âŸœâ‰¡â–½4 C)âˆ©â‚ƒÂ¤
